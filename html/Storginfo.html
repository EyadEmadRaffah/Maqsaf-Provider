<!DOCTYPE html>
<html lang="ar">
<head>
    <link rel="icon" type="image/png" sizes="16x16" href="/src/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/src/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/src/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/src/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/src/android-chrome-512x512.png">
    <link rel="icon" type="image/x-icon" href="/src/favicon.ico">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مقصف</title>
    <link rel="stylesheet" href="/css/income.css">
    <link rel="stylesheet" href="/css/global.css">
    <style>
        .edit-button {
            background-color: green;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .edit-button img {
            margin-left: 5px;
            width: 16px;
            height: 16px;
        }

        .delete-button {
            background-color: red;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .delete-button img {
            margin-left: 5px;
            width: 16px;
            height: 16px;
        }
    </style>
</head>

<body>

    <div class="container">

        <!-- Logo -->
        <div class="logo">
            <img src="/src/logo.png" alt="Logo">
        </div>

        <!-- Page Title -->
        <div class="table-title">
            <h2> المنتجات</h2>
        </div>

        <!-- Table: Income Tracking -->
        <div class="table-container">
            <table id="income-table">
                <thead>
                    <tr>
                        <th>رقم الصنف</th>
                        <th>اسم الصنف</th>
                        <th>سعر الصنف</th>
                        <th>عدد المبيعات</th>
                        <th>السعر الإجمالي</th>
                        <th>الإجراءات</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>0001</td>
                        <td>ساندوتش تونة</td>
                        <td>3</td>
                        <td>300</td>
                        <td>ريال 900</td>
                        <td>
                            <button class="edit-button" onclick="editProduct(this)">
                                تعديل
                                <img src="/src/edit-icon.png" alt="Edit Icon">
                            </button>
                            <button class="delete-button" onclick="deleteProduct(this)">
                                حذف
                                <img src="/src/delete-icon.png" alt="Delete Icon">
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>0002</td>
                        <td>ساندوتش جبنة</td>
                        <td>2</td>
                        <td>400</td>
                        <td>ريال 800</td>
                        <td>
                            <button class="edit-button" onclick="editProduct(this)">
                                تعديل
                                <img src="/src/edit-icon.png" alt="Edit Icon">
                            </button>
                            <button class="delete-button" onclick="deleteProduct(this)">
                                حذف
                                <img src="/src/delete-icon.png" alt="Delete Icon">
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>0003</td>
                        <td>سلطة</td>
                        <td>5</td>
                        <td>250</td>
                        <td>ريال 1250</td>
                        <td>
                            <button class="edit-button" onclick="editProduct(this)">
                                تعديل
                                <img src="/src/edit-icon.png" alt="Edit Icon">
                            </button>
                            <button class="delete-button" onclick="deleteProduct(this)">
                                حذف
                                <img src="/src/delete-icon.png" alt="Delete Icon">
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

      
        <!-- Back Button -->
        <div class="back-button">
            <button onclick="goBack()">← الرجوع إلى الخلف</button>
        </div>

        <script>
            function goBack() {
                window.history.back();
            }

            function editProduct(button) {
                const row = button.parentElement.parentElement;
                const nameCell = row.children[1];
                const quantityCell = row.children[3];

                const newName = prompt("أدخل اسم المنتج :", nameCell.textContent);
                const newQuantity = prompt("أدخل عدد المنتج:", quantityCell.textContent);

                if (newName !== null) {
                    nameCell.textContent = newName;
                }

                if (newQuantity !== null && !isNaN(newQuantity)) {
                    quantityCell.textContent = newQuantity;

                    const priceCell = row.children[2];
                    const totalCell = row.children[4];

                    const price = parseFloat(priceCell.textContent);
                    const total = price * parseInt(newQuantity, 10);

                    totalCell.textContent = `ريال ${total}`;
                }
            }

            function deleteProduct(button) {
                const row = button.parentElement.parentElement;
                const confirmation = confirm("هل أنت متأكد أنك تريد حذف هذا المنتج؟");
                if (confirmation) {
                    row.remove();
                }
            }

           
        </script>

    </div>

    <script src="/js/income.js"></script>
</body>
</html>
